# Git Cherry-Pick å®Œæ•´æ¼”ç¤ºæ•™ç¨‹

## é¡¹ç›®å½“å‰çŠ¶æ€

### åˆ†æ”¯ç»“æ„å›¾

```
    master(98e8e59) - Init Project
      â†—ï¸
f194405 â† d917e03 â† 5a6d2da(feature/01) - add TestController
                    â†˜ï¸
                     0d8e2a5(feature/02) - add UserController
```

### å½“å‰å„åˆ†æ”¯å†…å®¹

- **feature/01**: åŒ…å« TestController.java
- **feature/02**: åŒ…å« UserController.java
- **master**: æœ€æ–°çš„ä¸»åˆ†æ”¯

## Cherry-Pick å®æˆ˜æ¼”ç¤º

### æ¼”ç¤º 1: å°† feature/02 çš„æäº¤æŒ‘é€‰åˆ° feature/01

#### ğŸ¯ ç›®æ ‡

å°† feature/02 åˆ†æ”¯ä¸­çš„ UserController.java æŒ‘é€‰åˆ° feature/01 åˆ†æ”¯ï¼Œè¿™æ · feature/01 å°±åŒæ—¶æ‹¥æœ‰ä¸¤ä¸ªæ§åˆ¶å™¨ã€‚

#### ğŸ“Š æ“ä½œå‰çš„å¯è§†åŒ–å›¾

```
feature/01åˆ†æ”¯:
d917e03 â† 5a6d2da â† HEAD
    |        |
    |        â””â”€â”€ æ·»åŠ äº† TestController.java
    â””â”€â”€ åŸºç¡€æäº¤

feature/02åˆ†æ”¯:
d917e03 â† 0d8e2a5
    |        |
    |        â””â”€â”€ æ·»åŠ äº† UserController.java
    â””â”€â”€ åŸºç¡€æäº¤
```

#### ğŸ”§ æ“ä½œå‘½ä»¤åºåˆ—

```bash
# 1. ç¡®è®¤å½“å‰çŠ¶æ€
git status
git branch

# 2. æŸ¥çœ‹å½“å‰åˆ†æ”¯æ–‡ä»¶
ls -la src/main/java/org/study/gitdemo/web/
# åº”è¯¥åªçœ‹åˆ° TestController.java

# 3. æŸ¥çœ‹æäº¤å†å²
git log --oneline --graph --all -10

# 4. æŸ¥çœ‹ feature/02 åˆ†æ”¯çš„ç‰¹å®šæäº¤
git show 0d8e2a5 --name-only

# 5. æ‰§è¡Œ cherry-pick
git cherry-pick 0d8e2a5

# 6. éªŒè¯ç»“æœ
ls -la src/main/java/org/study/gitdemo/web/
# ç°åœ¨åº”è¯¥åŒæ—¶çœ‹åˆ° TestController.java å’Œ UserController.java

# 7. æŸ¥çœ‹æ–°çš„æäº¤å†å²
git log --oneline --graph -5
```

#### ğŸ“Š æ“ä½œåçš„å¯è§†åŒ–å›¾

```
feature/01åˆ†æ”¯ (æ“ä½œå):
d917e03 â† 5a6d2da â† æ–°æäº¤ID â† HEAD
    |        |         |
    |        |         â””â”€â”€ UserController.java (ä»feature/02æŒ‘é€‰)
    |        â””â”€â”€ TestController.java
    â””â”€â”€ åŸºç¡€æäº¤

feature/02åˆ†æ”¯ (ä¸å˜):
d917e03 â† 0d8e2a5
    |        |
    |        â””â”€â”€ UserController.java (åŸå§‹æäº¤)
    â””â”€â”€ åŸºç¡€æäº¤
```

### æ¼”ç¤º 2: å°†æäº¤æŒ‘é€‰åˆ°æ–°åˆ†æ”¯

#### ğŸ¯ ç›®æ ‡

åˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯ï¼Œå¹¶å°†ä¸¤ä¸ªåŠŸèƒ½åˆ†æ”¯çš„æäº¤éƒ½æŒ‘é€‰è¿‡æ¥ã€‚

#### ğŸ”§ æ“ä½œå‘½ä»¤åºåˆ—

```bash
# 1. ä»masteråˆ›å»ºæ–°åˆ†æ”¯
git checkout master
git checkout -b feature/combined

# 2. æŸ¥çœ‹å½“å‰çŠ¶æ€
git log --oneline -3

# 3. æŒ‘é€‰ feature/01 çš„æäº¤
git cherry-pick 5a6d2da

# 4. æŒ‘é€‰ feature/02 çš„æäº¤
git cherry-pick 0d8e2a5

# 5. éªŒè¯ç»“æœ
ls -la src/main/java/org/study/gitdemo/web/
git log --oneline --graph -5

# 6. æŸ¥çœ‹å®Œæ•´çš„åˆ†æ”¯å›¾
git log --oneline --graph --all -10
```

#### ğŸ“Š æœ€ç»ˆåˆ†æ”¯ç»“æ„å›¾

```
                     æ–°æäº¤2 â† HEAD (feature/combined)
                    â†—ï¸         |
master(98e8e59) â† æ–°æäº¤1      â””â”€â”€ UserController.java
      â†—ï¸             |
f194405 â† d917e03 â† 5a6d2da(feature/01) - TestController.java
                    â†˜ï¸
                     0d8e2a5(feature/02) - UserController.java
```

### æ¼”ç¤º 3: å¤„ç†å†²çªæƒ…å†µ

#### ğŸ¯ ç›®æ ‡

æ¼”ç¤ºå½“ cherry-pick é‡åˆ°å†²çªæ—¶å¦‚ä½•å¤„ç†ã€‚

#### ğŸ”§ åˆ›å»ºå†²çªåœºæ™¯çš„å‘½ä»¤

```bash
# 1. åœ¨feature/01åˆ†æ”¯ä¿®æ”¹åŒä¸€ä¸ªæ–‡ä»¶
git checkout feature/01

# 2. å¦‚æœä¸¤ä¸ªåˆ†æ”¯ä¿®æ”¹äº†ç›¸åŒæ–‡ä»¶çš„ç›¸åŒéƒ¨åˆ†ï¼Œä¼šäº§ç”Ÿå†²çª
# è¿™æ—¶cherry-pickä¼šåœæ­¢å¹¶æç¤ºå†²çª

# 3. å†²çªè§£å†³å‘½ä»¤
git status                    # æŸ¥çœ‹å†²çªæ–‡ä»¶
git diff                      # æŸ¥çœ‹å†²çªè¯¦æƒ…
# æ‰‹åŠ¨ç¼–è¾‘å†²çªæ–‡ä»¶ï¼Œè§£å†³å†²çªæ ‡è®° <<<<< ===== >>>>>
git add <å†²çªæ–‡ä»¶>             # æ ‡è®°å†²çªå·²è§£å†³
git cherry-pick --continue   # ç»§ç»­cherry-pick

# 4. å¦‚æœæƒ³å–æ¶ˆcherry-pick
git cherry-pick --abort
```

## é«˜çº§ Cherry-Pick æŠ€å·§

### 1. æ‰¹é‡æŒ‘é€‰æäº¤

```bash
# æŒ‘é€‰å¤šä¸ªä¸è¿ç»­çš„æäº¤
git cherry-pick commit1 commit2 commit3

# æŒ‘é€‰è¿ç»­çš„æäº¤èŒƒå›´ (ä¸åŒ…æ‹¬commit1)
git cherry-pick commit1..commit3

# æŒ‘é€‰è¿ç»­çš„æäº¤èŒƒå›´ (åŒ…æ‹¬commit1)
git cherry-pick commit1^..commit3
```

### 2. ä¸è‡ªåŠ¨æäº¤

```bash
# åªåº”ç”¨æ›´æ”¹ï¼Œä¸åˆ›å»ºæäº¤
git cherry-pick --no-commit 0d8e2a5
# å¯ä»¥è¿›è¡Œä¿®æ”¹åå†æ‰‹åŠ¨æäº¤
git commit -m "è‡ªå®šä¹‰æäº¤ä¿¡æ¯"
```

### 3. ä¿®æ”¹æäº¤ä¿¡æ¯

```bash
# æŒ‘é€‰æ—¶ç¼–è¾‘æäº¤ä¿¡æ¯
git cherry-pick --edit 0d8e2a5
```

### 4. ç­¾åæäº¤

```bash
# åœ¨æŒ‘é€‰çš„æäº¤ä¸Šæ·»åŠ ç­¾å
git cherry-pick --signoff 0d8e2a5
```

## å®éªŒå»ºè®®

### ğŸ§ª å®éªŒæ­¥éª¤

1. **å¤‡ä»½å½“å‰çŠ¶æ€**: å…ˆç¡®ä¿æ‰€æœ‰æ›´æ”¹éƒ½å·²æäº¤
2. **æŒ‰é¡ºåºæ‰§è¡Œ**: æŒ‰ç…§æ¼”ç¤º 1 â†’ æ¼”ç¤º 2 â†’ æ¼”ç¤º 3 çš„é¡ºåºè¿›è¡Œ
3. **è§‚å¯Ÿå˜åŒ–**: æ¯æ­¥éƒ½ç”¨ `git log --graph` æŸ¥çœ‹åˆ†æ”¯å˜åŒ–
4. **éªŒè¯æ–‡ä»¶**: æ¯æ¬¡æ“ä½œåéƒ½æ£€æŸ¥æ–‡ä»¶ç³»ç»Ÿçš„å®é™…å˜åŒ–

### ğŸ” å…³é”®è§‚å¯Ÿç‚¹

- æ–°æäº¤çš„å“ˆå¸Œå€¼ä¸åŸæäº¤ä¸åŒ
- åŸåˆ†æ”¯ä¿æŒä¸å˜
- æ–‡ä»¶å†…å®¹å®Œå…¨ä¸€è‡´
- æäº¤å†å²çš„çº¿æ€§å…³ç³»

### âš ï¸ æ³¨æ„äº‹é¡¹

1. **æµ‹è¯•ç¯å¢ƒ**: å»ºè®®åœ¨æµ‹è¯•åˆ†æ”¯ä¸Šè¿›è¡Œå®éªŒ
2. **å†²çªå‡†å¤‡**: å‡†å¤‡å¥½å¤„ç†å¯èƒ½çš„åˆå¹¶å†²çª
3. **å›é€€æ–¹æ¡ˆ**: çŸ¥é“å¦‚ä½•ä½¿ç”¨ `git reset` å›é€€æ“ä½œ
4. **æäº¤ä¾èµ–**: ç¡®ä¿æŒ‘é€‰çš„æäº¤ä¸ä¾èµ–å…¶ä»–æœªåŒ…å«çš„æ›´æ”¹

## Cherry-Pick æœ€ä½³å®è·µ

### âœ… é€‚ç”¨åœºæ™¯

- å°† bug ä¿®å¤åº”ç”¨åˆ°å¤šä¸ªåˆ†æ”¯
- å°†ç‰¹å®šåŠŸèƒ½ç§»æ¤åˆ°å‘å¸ƒåˆ†æ”¯
- ä»å®éªŒåˆ†æ”¯æŒ‘é€‰æˆåŠŸçš„æ›´æ”¹
- é‡ç»„æäº¤å†å²

### âŒ ä¸æ¨èåœºæ™¯

- å¤§é‡æäº¤çš„è¿ç§»ï¼ˆå»ºè®®ä½¿ç”¨ merge æˆ– rebaseï¼‰
- åŒ…å«å¤æ‚ä¾èµ–å…³ç³»çš„æäº¤
- é¢‘ç¹çš„è·¨åˆ†æ”¯åŒæ­¥ï¼ˆå»ºè®®é‡æ–°è®¾è®¡åˆ†æ”¯ç­–ç•¥ï¼‰

### ğŸ¯ æˆåŠŸè¦ç‚¹

1. **æ˜ç¡®ç›®æ ‡**: çŸ¥é“ä¸ºä»€ä¹ˆè¦æŒ‘é€‰è¿™ä¸ªæäº¤
2. **æ£€æŸ¥ä¾èµ–**: ç¡®ä¿æäº¤å¯ä»¥ç‹¬ç«‹åº”ç”¨
3. **æµ‹è¯•éªŒè¯**: æŒ‘é€‰åè¦æµ‹è¯•åŠŸèƒ½å®Œæ•´æ€§
4. **æ–‡æ¡£è®°å½•**: è®°å½•æŒ‘é€‰çš„åŸå› å’Œå½±å“
